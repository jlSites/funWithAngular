{
  "id": "api/animations/query",
  "title": "query",
  "contents": "<article>\n  <header class=\"api-header\">\n    <h1 class=\"no-toc\" id=\"query\"><a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"api/animations/query#query\"><i class=\"material-icons\">link</i></a>query</h1>\n    <label class=\"api-type-label function\">function</label>\n    \n    <label class=\"api-status-label experimental\">experimental</label>\n    \n    <span class=\"version\"></span>\n  </header>\n\n  \n  <!-- INFO BAR -->\n<section class=\"info-bar\">\n\n<table class=\"is-full-width\">\n<tbody>\n<tr>\n  <th>npm Package</th>\n  <td><a href=\"https://www.npmjs.com/package/@angular/animations\">@angular/animations</a></td>\n</tr>\n<tr>\n  <th>Module</th>\n  <td><code>import { query } from <a href=\"api/animations\">@angular/animations</a>;</code></td>\n</tr>\n<tr>\n  <th>Source</th>\n  <td><a href=\"https://github.com/angular/angular/tree/4.3.0-rc.0/packages/animations/src/animation_metadata.ts#L891-L988\">animations/src/animation_metadata.ts</a></td>\n</tr>\n\n</tbody>\n</table>\n\n  \n  \n  \n  \n<code-example language=\"ts\" hidecopy=\"true\" class=\"no-box api-heading\">\nfunction query(selector: string, animation: AnimationMetadata | AnimationMetadata[], options: AnimationQueryOptions | null): AnimationQueryMetadata;\n</code-example>\n\n  \n\n  \n\n<section class=\"description\">\n  <h2 id=\"description\"><a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"api/animations/query#description\"><i class=\"material-icons\">link</i></a>Description</h2>\n  <p><code><a href=\"api/animations/query\">query</a></code> is an animation-specific function that is designed to be used inside of Angular's\nanimation DSL language.</p>\n<p>query() is used to find one or more inner elements within the current element that is\nbeing animated within the sequence. The provided animation steps are applied\nto the queried element (by default, an array is provided, then this will be\ntreated as an animation sequence).</p>\n<h3 id=\"usage\"><a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"api/animations/query#usage\"><i class=\"material-icons\">link</i></a>Usage</h3>\n<p>query() is designed to collect mutiple elements and works internally by using\n<code>element.querySelectorAll</code>. An additional options object can be provided which\ncan be used to limit the total amount of items to be collected.</p>\n<code-example language=\"js\">\nquery('div', [\n  animate(...),\n  animate(...)\n], { limit: 1 })\n</code-example>\n<p>query(), by default, will throw an error when zero items are found. If a query\nhas the <code>optional</code> flag set to true then this error will be ignored.</p>\n<code-example language=\"js\">\nquery('.some-element-that-may-not-be-there', [\n  animate(...),\n  animate(...)\n], { optional: true })\n</code-example>\n<h3 id=\"special-selector-values\"><a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"api/animations/query#special-selector-values\"><i class=\"material-icons\">link</i></a>Special Selector Values</h3>\n<p>The selector value within a query can collect elements that contain angular-specific\ncharacteristics\nusing special pseudo-selectors tokens.</p>\n<p>These include:</p>\n<ul>\n<li>Querying for newly inserted/removed elements using <code>query(\":enter\")</code>/<code>query(\":leave\")</code></li>\n<li>Querying all currently animating elements using <code>query(\":animating\")</code></li>\n<li>Querying elements that contain an animation trigger using <code>query(\"@triggerName\")</code></li>\n<li>Querying all elements that contain an animation triggers using <code>query(\"@*\")</code></li>\n<li>Including the current element into the animation sequence using <code>query(\":self\")</code></li>\n</ul>\n<p> Each of these pseudo-selector tokens can be merged together into a combined query selector\nstring:</p>\n<code-example>\nquery(':self, .record:enter, .record:leave, @subTrigger', [...])\n</code-example>\n<h3 id=\"demo\"><a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"api/animations/query#demo\"><i class=\"material-icons\">link</i></a>Demo</h3>\n<code-example>\n@Component({\n  selector: 'inner',\n  template: `\n    &#x3C;div [@queryAnimation]=\"exp\">\n      &#x3C;h1>Title&#x3C;/h1>\n      &#x3C;div class=\"content\">\n        Blah blah blah\n      &#x3C;/div>\n    &#x3C;/div>\n  `,\n  animations: [\n   trigger('queryAnimation', [\n     transition('* => goAnimate', [\n       // hide the inner elements\n       query('h1', style({ opacity: 0 })),\n       query('.content', style({ opacity: 0 })),\n\n       // animate the inner elements in, one by one\n       query('h1', animate(1000, style({ opacity: 1 })),\n       query('.content', animate(1000, style({ opacity: 1 })),\n     ])\n   ])\n ]\n})\nclass Cmp {\n  exp = '';\n\n  goAnimate() {\n    this.exp = 'goAnimate';\n  }\n}\n</code-example>\n\n</section>\n\n\n\n\n\n</section></article>"
}